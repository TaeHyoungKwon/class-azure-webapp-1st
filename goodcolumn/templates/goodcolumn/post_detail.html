
{% extends "notice/base.html" %}

{% block content %}
{% load staticfiles %}

<link rel="stylesheet" href="http://fontawesome.io/assets/font-awesome/css/font-awesome.css">

<style type="text/css">

  blockquote {
    background: #f9f9f9;
    border-left: 10px solid #9be6c4;
    margin: 1.5em 10px;
    padding: 0.5em 10px;
    quotes: "\201C""\201D""\2018""\2019";
  }


  body{ background: #fafafa;}
  .widget-area.blank {
    background: none repeat scroll 0 0 rgba(0, 0, 0, 0);
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    -ms-box-shadow: none;
    -o-box-shadow: none;
    box-shadow: none;
  }
  body .no-padding {
    padding: 0;
  }
  .widget-area {
    background-color: #fff;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    -ms-border-radius: 4px;
    -o-border-radius: 4px;
    border-radius: 4px;
    -webkit-box-shadow: 0 0 16px rgba(0, 0, 0, 0.05);
    -moz-box-shadow: 0 0 16px rgba(0, 0, 0, 0.05);
    -ms-box-shadow: 0 0 16px rgba(0, 0, 0, 0.05);
    -o-box-shadow: 0 0 16px rgba(0, 0, 0, 0.05);
    box-shadow: 0 0 16px rgba(0, 0, 0, 0.05);
    float: left;
    margin-top: 30px;
    padding: 25px 30px;
    position: relative;
    width: 100%;
  }
  .status-upload {
    background: none repeat scroll 0 0 #f5f5f5;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    -ms-border-radius: 4px;
    -o-border-radius: 4px;
    border-radius: 4px;
    float: left;
    width: 100%;
  }
  .status-upload form {
    float: left;
    width: 100%;
  }
  .status-upload form textarea {
    background: none repeat scroll 0 0 #fff;
    border: medium none;
    -webkit-border-radius: 4px 4px 0 0;
    -moz-border-radius: 4px 4px 0 0;
    -ms-border-radius: 4px 4px 0 0;
    -o-border-radius: 4px 4px 0 0;
    border-radius: 4px 4px 0 0;
    color: #777777;
    float: left;
    font-family: Lato;
    font-size: 14px;
    height: 142px;
    letter-spacing: 0.3px;
    padding: 20px;
    width: 100%;
    resize:vertical;
    outline:none;
    border: 1px solid #F2F2F2;
  }

  .status-upload ul {
    float: left;
    list-style: none outside none;
    margin: 0;
    padding: 0 0 0 15px;
    width: auto;
  }
  .status-upload ul > li {
    float: left;
  }
  .status-upload ul > li > a {
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    -ms-border-radius: 4px;
    -o-border-radius: 4px;
    border-radius: 4px;
    color: #777777;
    float: left;
    font-size: 14px;
    height: 30px;
    line-height: 30px;
    margin: 10px 0 10px 10px;
    text-align: center;
    -webkit-transition: all 0.4s ease 0s;
    -moz-transition: all 0.4s ease 0s;
    -ms-transition: all 0.4s ease 0s;
    -o-transition: all 0.4s ease 0s;
    transition: all 0.4s ease 0s;
    width: 30px;
    cursor: pointer;
  }
  .status-upload ul > li > a:hover {
    background: none repeat scroll 0 0 #606060;
    color: #fff;
  }
  .status-upload form button {
    border: medium none;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    -ms-border-radius: 4px;
    -o-border-radius: 4px;
    border-radius: 4px;
    color: #fff;
    float: right;
    font-family: Lato;
    font-size: 14px;
    letter-spacing: 0.3px;
    margin-right: 9px;
    margin-top: 9px;
    padding: 6px 15px;
  }
  .dropdown > a > span.green:before {
    border-left-color: #2dcb73;
  }
  .status-upload form button > i {
    margin-right: 7px;
  }


.myButton {
    -moz-box-shadow:inset 0px 0px 14px -3px #f2fadc;
    -webkit-box-shadow:inset 0px 0px 14px -3px #f2fadc;
    box-shadow:inset 0px 0px 14px -3px #f2fadc;
    background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #9be6c4), color-stop(1, #9ba892));
    background:-moz-linear-gradient(top, #9be6c4 5%, #9ba892 100%);
    background:-webkit-linear-gradient(top, #9be6c4 5%, #9ba892 100%);
    background:-o-linear-gradient(top, #9be6c4 5%, #9ba892 100%);
    background:-ms-linear-gradient(top, #9be6c4 5%, #9ba892 100%);
    background:linear-gradient(to bottom, #9be6c4 5%, #9ba892 100%);
    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#9be6c4', endColorstr='#9ba892',GradientType=0);
    background-color:#9be6c4;
    -moz-border-radius:6px;
    -webkit-border-radius:6px;
    border-radius:6px;
    border:1px solid #b2b8ad;
    display:inline-block;
    cursor:pointer;
    color:#757d6f;
    font-family:Arial;
    font-size:15px;
    font-weight:bold;
    padding:6px 24px;
    text-decoration:none;
    text-shadow:0px 1px 0px #ced9bf;
}
.myButton:hover {
    background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #9ba892), color-stop(1, #9be6c4));
    background:-moz-linear-gradient(top, #9ba892 5%, #9be6c4 100%);
    background:-webkit-linear-gradient(top, #9ba892 5%, #9be6c4 100%);
    background:-o-linear-gradient(top, #9ba892 5%, #9be6c4 100%);
    background:-ms-linear-gradient(top, #9ba892 5%, #9be6c4 100%);
    background:linear-gradient(to bottom, #9ba892 5%, #9be6c4 100%);
    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#9ba892', endColorstr='#9be6c4',GradientType=0);
    background-color:#9ba892;
}
.myButton:active {
    position:relative;
    top:1px;
}


</style>


    <!-- Start header part -->
    <header class="intro-header" style="background-image: url('../../static/img/goodcolumn.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="site-heading">
                        <h1>굿, 악기 토론방</h1>
                        <hr class="small">
                        <span class="subheading">'필봉굿, 사물놀이, 악기 등등 자유롭게 이야기 하세요'</span>
                    </div>

                    <div align="center">
                         <a style="font-size: 50px;color: white" class="page-scroll " href="#example">
                            <i class="glyphicon glyphicon-download"></i>
                        </a>
                    </div> 


                </div>
            </div>
        </div>
    </header>
    <!-- End header part -->


<section style="background-color: #E9E9E9;">
  <div  id="detail" class="container-fluid">
    <div class="row">
      <div align="center"class="col-lg-12 col-sm-12" >
        <div style="padding-bottom: 20px; padding-top: 20px">
          
          <div align="left"; style=" background-color:white;
          border-top: 5px solid #9be6c4;max-width: 100%;width:900px;">
          <h1 style="
          margin-left: 20px;
          margin-right: 20px;
          padding-bottom: 10px;
          font-weight:bold;" > 
          {{ post.title }}
        </h1>                            
      </div>

      <div align="right"; style=" background-color:white;
      border-top: 5px solid white;max-width: 100%;width:900px;height: 40px;">

      <span style="font-size: 15px;font-weight: bold;">
        {{ post.user }}&nbsp;&nbsp; | &nbsp;
        {{ post.created_date | date:"Y/m/d/D/P"}} | &nbsp;
        조회수 : {{post.hit}}&nbsp;&nbsp;
        
      </span>                      
    </div>


    <div align="left"; style="background-color:white;margin-top: 5px;
    max-width:100%;width:900px;min-height: 150px;border-top: 5px solid #9be6c4;padding-bottom: 10px;">


    <div style="padding-top: 20px;padding-bottom: 20px;" align="center">
      {% if post.photo %}
      <img style="max-width:90%;" src="{{post.photo.url}}"/>
      {% endif %}             
    </div>

      <!--About Youtube Link -->
      <div style="padding-top: 20px;padding-bottom: 20px;" align="center">
        {% if post.link %}

        <iframe id="ytplayer" type="text/html" width="640" height="390"
        src="http://www.youtube.com/embed/{{post.link}}?autoplay=0&origin=http://example.com"
        frameborder="0" allowfullscreen></iframe>
        {% endif %}
      </div>
    


    <h4  style=" 
    margin-left: 30px;
    margin-right: 30px;
    margin-bottom: 30px;
    line-height:200%;
    font-weight:bold;">
    {{ post.message|safe|linebreaks }} 
  </h4>
</div>

<div style="margin-top: 20px;" class="heart-particle-box">
   <button style="padding-left:5px; ;font-size: 30px;" class="likes post-likes" id="heart-icon" data-post-id="{{post.id}}">
   {% if liked %}
   
   <i class="heart-shaped fa fa-heart" style="display: line-block"></i>
   <i class="heart-shaped fa fa-heart-o" style="display: none"></i>
 
   {% else %}
   
   <i class="heart-shaped fa fa-heart" style="display: none"></i>
   <i class="heart-shaped fa fa-heart-o" style="display: line-block"></i>

   {% endif %}
   </button>

   <div style="font-size: 20px;" class="like_count_blog" id="heart-counter">{{ post.likes }}</div>

   <div style="padding-top: 40px;" class="fb-like" data-layout="box_count" data-action="like" data-show-faces="true" data-share="true" data-href="{% url "goodcolumn:post_detail" post.pk%}"></div>


</div>      

<div align="left" style="max-width:900px;padding-top:20px ">
  <a href="{% url "goodcolumn:post_list" %}" class="myButton">목록</a>
  <a href="{% url "goodcolumn:comment_new" post.pk%}" class="myButton">댓글달기</a>
  
  <h3
  style="
  margin-right: 30px;
  margin-top: 20px;
  line-height:200%;">Comments</h3>

  <div>


    {% for comment in post.goodcolumn_comments.all %}


    
    <blockquote >



      <span style="margin-bottom: 20px;font-size: 20px;">{{comment.comment_user}} | {{comment.comment_created_date | timesince}} ago</span>
      <br/>
      <span style="font-weight: bold;font-size: 25px;">{{comment.comment_message | linebreaks}} </span>

      {% if user == comment.comment_user %} 
      <div align="right" style="max-width:900px;padding: 20px;">
        <a href="{% url "goodcolumn:comment_edit" post.pk comment.pk%}" class="myButton">댓글 수정</a>
        <a href="{% url "goodcolumn:comment_delete" post.pk comment.pk%}" class="myButton">댓글 삭제</a> 
      </div>

      {% endif %}     

      
    </blockquote> 


    {% endfor %}
    <hr/>

  </div>


</div>

<div align="left" style="max-width:900px;padding-top:20px ">
  <a href="{% url "goodcolumn:post_list" %}" class="myButton">목록</a>
  <a href="{% url "goodcolumn:comment_new" post.pk%}" class="myButton">댓글달기</a>
</div>


</div>
</div>
</div>
</div>
</section>

<script type="text/javascript">
    $(document).ready(function() {
    $('.post-likes').click(function() {
        var id;
        id = $(this).attr('data-post-id');
        $.get('/goodcolumn/like-blog/', {
            post_id: id
        }, function(data) {
            $('.like_count_blog').html(data);
        });
    });
});

</script>




{% endblock %}